<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª</title>
<style>
body{font-family:Cairo;background:#0a0a14;color:#fff;padding:20px}
input,textarea,button{width:100%;margin:10px 0;padding:12px;font-size:16px}
button{background:#8b5cf6;color:#fff;border:0;border-radius:8px}
.note{background:#1e1b4b;padding:15px;border-radius:10px;margin-top:10px}
</style>
</head>
<body>

<h2>ðŸ“® ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª</h2>

<input id="name" placeholder="Ø§Ù„Ø§Ø³Ù…">
<textarea id="note" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©"></textarea>
<button onclick="send()">Ø¥Ø±Ø³Ø§Ù„</button>
<p id="status"></p>

<hr>
<h3>ðŸ’¬ Ø§Ù„Ø±Ø¯ÙˆØ¯</h3>
<div id="list"></div>

<script>
const scriptURL = "PUT_YOUR_WEB_APP_URL_HERE";

async function send(){
  const name = document.getElementById("name").value;
  const note = document.getElementById("note").value;
  const res = await fetch(scriptURL,{
    method:"POST",
    headers:{'Content-Type':'application/json'},
    body:JSON.stringify({type:"add",name,note})
  });
  const r = await res.json();
  document.getElementById("status").textContent =
    r.success ? "âœ… ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„" : "âŒ "+r.error;
  load();
}

async function load(){
  const res = await fetch(scriptURL,{
    method:"POST",
    headers:{'Content-Type':'application/json'},
    body:JSON.stringify({type:"get"})
  });
  const r = await res.json();
  const div = document.getElementById("list");
  div.innerHTML="";
  r.data.filter(n=>n.reply).forEach(n=>{
    div.innerHTML+=`<div class="note">
      <b>${n.name}</b><br>${n.reply}
    </div>`;
  });
}

load();
</script>
</body>
</html>
