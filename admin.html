<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… â€“ ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;700&display=swap" rel="stylesheet">

<style>
    :root {
        --primary: #4f46e5;
        --secondary: #7c3aed;
        --bg: #eef2ff;
        --card: #ffffff;
        --muted: #6b7280;
        --success: #10b981;
        --warning: #f59e0b;
        --error: #ef4444;
    }

    * { box-sizing: border-box; }

    body {
        margin: 0;
        padding: 30px 15px;
        font-family: "Cairo", sans-serif;
        background: radial-gradient(circle at top, #c7d2fe, #faf5ff);
    }

    .centered {
        max-width: 1000px;
        margin: auto;
    }

    .card {
        background: rgba(255,255,255,0.95);
        border-radius: 24px;
        padding: 24px;
        box-shadow: 0 18px 40px rgba(15,23,42,0.15);
        margin-bottom: 25px;
    }

    h2 {
        margin: 0 0 15px;
        color: #111827;
        font-size: 22px;
        text-align: center;
    }

    input, textarea {
        width: 100%;
        padding: 12px 14px;
        border-radius: 14px;
        border: 1px solid #e5e7eb;
        font-family: inherit;
        font-size: 15px;
        margin-top: 8px;
        margin-bottom: 10px;
        outline: none;
        transition: 0.2s;
        background: #f9fafb;
    }

    input:focus, textarea:focus {
        border-color: var(--primary);
        box-shadow: 0 0 0 3px rgba(79,70,229,0.15);
        background: white;
    }

    button {
        border: none;
        border-radius: 14px;
        padding: 11px 16px;
        font-size: 15px;
        cursor: pointer;
        font-family: inherit;
        font-weight: 600;
        transition: 0.2s;
    }

    .btn-primary {
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        color: white;
        width: 100%;
        margin-top: 5px;
    }

    .btn-primary:hover {
        transform: translateY(-1px);
        box-shadow: 0 10px 20px rgba(79,70,229,0.35);
    }

    .login-status {
        text-align: center;
        font-size: 13px;
        color: var(--error);
        min-height: 18px;
    }

    /* Dashboard layout */
    .dashboard-grid {
        display: grid;
        grid-template-columns: 2fr 1.5fr;
        gap: 20px;
    }

    @media (max-width: 900px) {
        .dashboard-grid {
            grid-template-columns: 1fr;
        }
    }

    /* Stats */
    .stats-row {
        display: grid;
        grid-template-columns: repeat(4, minmax(0, 1fr));
        gap: 12px;
        margin-bottom: 15px;
    }

    @media (max-width: 700px) {
        .stats-row {
            grid-template-columns: repeat(2, minmax(0,1fr));
        }
    }

    .stat-card {
        padding: 10px 12px;
        border-radius: 16px;
        background: #f9fafb;
        border: 1px solid #e5e7eb;
        font-size: 13px;
    }

    .stat-label {
        color: var(--muted);
        font-size: 12px;
    }

    .stat-value {
        font-size: 18px;
        font-weight: 800;
        margin-top: 3px;
    }

    /* Filters */
    .filters {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin-bottom: 12px;
    }

    .filter-btn {
        padding: 7px 12px;
        border-radius: 999px;
        background: #f3f4f6;
        color: #374151;
        font-size: 13px;
        cursor: pointer;
        border: 1px solid transparent;
    }

    .filter-btn.active {
        background: #eef2ff;
        border-color: var(--primary);
        color: var(--primary);
        font-weight: 700;
    }

    /* Notes list */
    .notes-list {
        max-height: 520px;
        overflow-y: auto;
        padding-right: 4px;
    }

    .note-item {
        background: white;
        border-radius: 16px;
        padding: 12px 13px;
        margin-bottom: 10px;
        border-right: 4px solid #e5e7eb;
        box-shadow: 0 4px 12px rgba(15,23,42,0.06);
        cursor: pointer;
        font-size: 14px;
        transition: 0.2s;
    }

    .note-item:hover {
        transform: translateX(-3px);
    }

    .note-item.selected {
        border-right-color: var(--primary);
        box-shadow: 0 0 0 2px rgba(79,70,229,0.25);
        background: #eef2ff;
    }

    .note-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 4px;
    }

    .note-name {
        font-weight: 700;
        color: #111827;
    }

    .note-status-pill {
        font-size: 11px;
        padding: 3px 8px;
        border-radius: 999px;
    }

    .note-status-new {
        background: #fef3c7;
        color: #92400e;
    }

    .note-status-replied {
        background: #dcfce7;
        color: #166534;
    }

    .note-body {
        white-space: pre-wrap;
        color: #374151;
    }

    .note-meta {
        font-size: 11px;
        color: var(--muted);
        margin-top: 4px;
    }

    /* Reply pane */
    .reply-pane-title {
        font-weight: 700;
        margin-bottom: 6px;
        color: #111827;
    }

    .selected-note-box {
        background: #f9fafb;
        border-radius: 14px;
        padding: 10px 12px;
        margin-bottom: 10px;
        font-size: 13px;
    }

    .selected-note-box strong {
        display: inline-block;
        margin-bottom: 3px;
    }

    .reply-actions {
        display: flex;
        gap: 8px;
        margin-top: 10px;
        flex-wrap: wrap;
    }

    .btn-danger {
        background: #ef4444;
        color: white;
        flex: 1;
    }

    .btn-success {
        background: #10b981;
        color: white;
        flex: 2;
    }

    .small {
        font-size: 12px;
        color: var(--muted);
        margin-top: 4px;
    }

    /* Toast */
    #toast {
        position: fixed;
        bottom: 16px;
        left: 50%;
        transform: translateX(-50%);
        background: #111827;
        color: #f9fafb;
        padding: 9px 18px;
        border-radius: 999px;
        font-size: 13px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        opacity: 0;
        pointer-events: none;
        transition: 0.25s;
        z-index: 9999;
    }

    #toast.show {
        opacity: 1;
        bottom: 24px;
    }

    #toast.success { background: #16a34a; }
    #toast.error { background: #dc2626; }
    #toast.info { background: #2563eb; }

</style>
</head>

<body>
<div id="toast"></div>

<div class="centered">

    <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
    <div id="loginCard" class="card">
        <h2>ğŸ” ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h2>
        <label for="pass">ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±</label>
        <input id="pass" type="password" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± (Ù„Ù„Ù…Ø¹Ù„Ù… ÙÙ‚Ø·)">
        <button class="btn-primary" onclick="login()">Ø¯Ø®ÙˆÙ„</button>
        <div id="loginStatus" class="login-status"></div>
    </div>

    <!-- Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… -->
    <div id="dashboardCard" class="card" style="display:none;">
        <h2>âš™ï¸ Ù„ÙˆØ­Ø© Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª</h2>

        <!-- ØµÙ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª -->
        <div class="stats-row">
            <div class="stat-card">
                <div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª</div>
                <div class="stat-value" id="statTotal">0</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Ø¬Ø¯ÙŠØ¯Ø©</div>
                <div class="stat-value" id="statNew">0</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">ØªÙ… Ø§Ù„Ø±Ø¯</div>
                <div class="stat-value" id="statReplied">0</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Ø¨Ù‡Ø§ ØµÙˆØ±</div>
                <div class="stat-value" id="statImages">0</div>
            </div>
        </div>

        <div class="dashboard-grid">
            <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª -->
            <div>
                <div class="filters">
                    <button class="filter-btn active" data-filter="all" onclick="applyFilter('all', this)">Ø§Ù„ÙƒÙ„</button>
                    <button class="filter-btn" data-filter="new" onclick="applyFilter('new', this)">Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©</button>
                    <button class="filter-btn" data-filter="replied" onclick="applyFilter('replied', this)">ØªÙ… Ø§Ù„Ø±Ø¯</button>
                    <button class="filter-btn" data-filter="image" onclick="applyFilter('image', this)">Ø¨Ù‡Ø§ ØµÙˆØ±Ø©</button>
                </div>

                <div id="notesList" class="notes-list">
                    <p style="font-size:13px;color:var(--muted);">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª...</p>
                </div>
            </div>

            <!-- Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ø±Ø¯ -->
            <div>
                <div class="reply-pane-title">ğŸ“ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©</div>
                <div id="selectedBox" class="selected-note-box">
                    <span class="small">Ø§Ø®ØªØ± Ù…Ù„Ø§Ø­Ø¸Ø© Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ù„Ø¹Ø±Ø¶Ù‡Ø§ Ù‡Ù†Ø§ ÙˆØ§Ù„Ø±Ø¯ Ø¹Ù„ÙŠÙ‡Ø§.</span>
                </div>

                <label for="replyText">Ù†Øµ Ø§Ù„Ø±Ø¯</label>
                <textarea id="replyText" rows="4" placeholder="Ø§ÙƒØªØ¨ Ø±Ø¯Ùƒ Ø¹Ù„Ù‰ Ø§Ù„Ø·Ø§Ù„Ø¨ Ù‡Ù†Ø§..."></textarea>
                <div class="small">ÙŠÙ…ÙƒÙ†Ùƒ ÙˆØ¶Ø¹ Ø±ÙˆØ§Ø¨Ø·ØŒ ÙˆØ³ÙŠØªÙ… Ø¹Ø±Ø¶Ù‡Ø§ ÙƒÙ…Ø§ Ù‡ÙŠ Ù„Ù„Ø·Ø§Ù„Ø¨.</div>

                <label for="replyImage">ØµÙˆØ±Ø© Ù„Ù„Ø±Ø¯ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                <input id="replyImage" type="file" accept="image/*">

                <div class="reply-actions">
                    <button class="btn-danger" onclick="confirmDelete()">Ø­Ø°Ù Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©</button>
                    <button class="btn-success" onclick="sendReply()">Ø­ÙØ¸ Ø§Ù„Ø±Ø¯</button>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
const scriptURL = "https://script.google.com/macros/s/AKfycbzI1WkE0fUr6HaYiNMBiDn9JfTIByXjCvjQ6jnTyasz5Asyn0mLX4dNrcLVFADVHKMr/exec"; // Ø¶Ø¹ Ø±Ø§Ø¨Ø· Ø§Ù„Ù€ Web App Ù‡Ù†Ø§
const PASSWORD = "aysha123";

let allNotes = [];
let currentFilter = "all";
let selectedNote = null;

/******** Toast ********/
function showToast(message, type = "info") {
    const toast = document.getElementById("toast");
    toast.textContent = message;
    toast.className = "";
    toast.classList.add("show", type);
    setTimeout(() => {
        toast.classList.remove("show");
    }, 2500);
}

/******** ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ Base64 ********/
function toBase64(file) {
    return new Promise((resolve, reject) => {
        const reader = new FileReader();
        reader.onload = () => resolve(reader.result);
        reader.onerror = err => reject(err);
        reader.readAsDataURL(file);
    });
}

/******** ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ********/
function login() {
    const pass = document.getElementById("pass").value.trim();
    const status = document.getElementById("loginStatus");

    if (pass === PASSWORD) {
        document.getElementById("loginCard").style.display = "none";
        document.getElementById("dashboardCard").style.display = "block";
        loadNotes();
    } else {
        status.textContent = "âŒ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± ØºÙŠØ± ØµØ­ÙŠØ­Ø©";
    }
}

/******** ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª ********/
async function loadNotes() {
    const list = document.getElementById("notesList");
    list.innerHTML = `<p style="font-size:13px;color:var(--muted);">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª...</p>`;

    try {
        const res = await fetch(scriptURL, {
            method: "POST",
            body: JSON.stringify({ type: "get" })
        });
        const result = await res.json();

        if (!result.success) {
            list.innerHTML = `<p style="font-size:13px;color:var(--error);">ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª.</p>`;
            return;
        }

        allNotes = result.data || [];
        updateStats();
        renderNotes();

    } catch (err) {
        list.innerHTML = `<p style="font-size:13px;color:var(--error);">ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù….</p>`;
    }
}

/******** ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ********/
function updateStats() {
    const total = allNotes.length;
    const replied = allNotes.filter(n => n.reply || n.replyImage).length;
    const withImages = allNotes.filter(n => n.image).length;
    const fresh = allNotes.filter(n => !n.reply && !n.replyImage).length;

    document.getElementById("statTotal").textContent = total;
    document.getElementById("statReplied").textContent = replied;
    document.getElementById("statImages").textContent = withImages;
    document.getElementById("statNew").textContent = fresh;
}

/******** ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ÙÙ„ØªØ± ********/
function applyFilter(filter, btn) {
    currentFilter = filter;
    document.querySelectorAll(".filter-btn").forEach(b => b.classList.remove("active"));
    btn.classList.add("active");
    renderNotes();
}

/******** Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø­Ø³Ø¨ Ø§Ù„ÙÙ„ØªØ± ********/
function renderNotes() {
    const list = document.getElementById("notesList");
    list.innerHTML = "";

    let notes = [...allNotes];

    if (currentFilter === "new") {
        notes = notes.filter(n => !n.reply && !n.replyImage);
    } else if (currentFilter === "replied") {
        notes = notes.filter(n => n.reply || n.replyImage);
    } else if (currentFilter === "image") {
        notes = notes.filter(n => n.image);
    }

    if (!notes.length) {
        list.innerHTML = `<p style="font-size:13px;color:var(--muted);">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù…Ø·Ø§Ø¨Ù‚Ø© Ù„Ù„ØªØµÙÙŠØ© Ø§Ù„Ø­Ø§Ù„ÙŠØ©.</p>`;
        return;
    }

    notes.forEach(n => {
        const hasReply = !!(n.reply || n.replyImage);
        const isSelected = selectedNote && selectedNote.row === n.row;
        const statusClass = hasReply ? "note-status-replied" : "note-status-new";
        const statusText = hasReply ? "ØªÙ… Ø§Ù„Ø±Ø¯" : "Ø¬Ø¯ÙŠØ¯Ø©";

        const item = document.createElement("div");
        item.className = "note-item" + (isSelected ? " selected" : "");
        item.onclick = () => selectNote(n.row);

        item.innerHTML = `
            <div class="note-header">
                <span class="note-name">ğŸ‘¤ ${n.name || "Ù…Ø¬Ù‡ÙˆÙ„"}</span>
                <span class="note-status-pill ${statusClass}">${statusText}</span>
            </div>
            <div class="note-body">${(n.note || "").substring(0, 120)}${(n.note || "").length > 120 ? "..." : ""}</div>
            <div class="note-meta">
                ØµÙ: ${n.row} 
                ${n.image ? "â€¢ ğŸ“·" : ""} 
                ${hasReply ? "â€¢ âœ”" : ""}
            </div>
        `;
        list.appendChild(item);
    });
}

/******** Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ø§Ø­Ø¸Ø© ********/
function selectNote(row) {
    selectedNote = allNotes.find(n => n.row === row);
    document.querySelectorAll(".note-item").forEach(el => el.classList.remove("selected"));

    const items = document.querySelectorAll(".note-item");
    items.forEach(el => {
        if (el.textContent.includes("ØµÙ: " + row)) {
            el.classList.add("selected");
        }
    });

    fillSelectedBox();
}

/******** ØªØ¹Ø¨Ø¦Ø© ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø© ********/
function fillSelectedBox() {
    const box = document.getElementById("selectedBox");
    const replyText = document.getElementById("replyText");
    const imgInput = document.getElementById("replyImage");

    if (!selectedNote) {
        box.innerHTML = `<span class="small">Ø§Ø®ØªØ± Ù…Ù„Ø§Ø­Ø¸Ø© Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ù„Ø¹Ø±Ø¶Ù‡Ø§ Ù‡Ù†Ø§.</span>`;
        return;
    }

    box.innerHTML = `
    <strong>ğŸ‘¤ ${selectedNote.name || "Ù…Ø¬Ù‡ÙˆÙ„"}</strong><br>

    <div style="margin-top:4px;white-space:pre-wrap;">
        ${selectedNote.note || ""}
    </div>

    ${selectedNote.image ? `
        <div style="margin-top:8px">
            <img src="${selectedNote.image}" 
                 style="max-width:100%;border-radius:12px;">
        </div>
    ` : ""}

    ${selectedNote.reply || selectedNote.replyImage
        ? "<div style='margin-top:6px;font-size:12px;color:var(--success)'>âœ” ØªÙˆØ¬Ø¯ Ø¥Ø¬Ø§Ø¨Ø© Ù…Ø­ÙÙˆØ¸Ø© Ù…Ø³Ø¨Ù‚Ù‹Ø§.</div>"
        : "<div style='margin-top:6px;font-size:12px;color:var(--warning)'>â³ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø±Ø¯ Ø¨Ø¹Ø¯.</div>"
    }
`;


    replyText.value = selectedNote.reply || "";
    imgInput.value = "";
}

/******** Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø¯ ********/
async function sendReply() {
    if (!selectedNote) {
        showToast("Ø§Ø®ØªØ± Ù…Ù„Ø§Ø­Ø¸Ø© Ø£ÙˆÙ„Ø§Ù‹", "error");
        return;
    }

    const replyText = document.getElementById("replyText").value.trim();
    const imgInput = document.getElementById("replyImage");

    if (!replyText && !imgInput.files[0]) {
        showToast("Ø§ÙƒØªØ¨ Ø§Ù„Ø±Ø¯ Ø£Ùˆ Ø£Ø±ÙÙ‚ ØµÙˆØ±Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„", "error");
        return;
    }

    let replyImage64 = "";
    if (imgInput.files[0]) {
        const file = imgInput.files[0];
        if (file.size > 5 * 1024 * 1024) {
            showToast("âŒ Ø­Ø¬Ù… ØµÙˆØ±Ø© Ø§Ù„Ø±Ø¯ Ø£ÙƒØ¨Ø± Ù…Ù† 5MB", "error");
            return;
        }
        replyImage64 = await toBase64(file);
    }

    try {
        const res = await fetch(scriptURL, {
            method: "POST",
            body: JSON.stringify({
                type: "reply",
                row: selectedNote.row,
                reply: replyText,
                replyImage: replyImage64
            })
        });

        const result = await res.json();
        if (result.success) {
            showToast("âœ… ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø±Ø¯", "success");
            await loadNotes();
            selectedNote = allNotes.find(n => n.row === selectedNote.row) || null;
            fillSelectedBox();
        } else {
            showToast("âŒ ÙØ´Ù„ Ø­ÙØ¸ Ø§Ù„Ø±Ø¯", "error");
        }
    } catch (err) {
        showToast("âŒ ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…", "error");
    }
}

/******** ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø°Ù ********/
function confirmDelete() {
    if (!selectedNote) {
        showToast("Ø§Ø®ØªØ± Ù…Ù„Ø§Ø­Ø¸Ø© Ø£ÙˆÙ„Ø§Ù‹", "error");
        return;
    }
    if (confirm("Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¨Ø§Ù„ØªØ£ÙƒÙŠØ¯ Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©ØŸ Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡.")) {
        deleteNote();
    }
}

/******** Ø­Ø°Ù Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø© ********/
async function deleteNote() {
    try {
        const res = await fetch(scriptURL, {
            method: "POST",
            body: JSON.stringify({
                type: "delete",
                row: selectedNote.row
            })
        });
        const result = await res.json();
        if (result.success) {
            showToast("ğŸ—‘ï¸ ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©", "success");
            selectedNote = null;
            document.getElementById("replyText").value = "";
            document.getElementById("replyImage").value = "";
            document.getElementById("selectedBox").innerHTML =
                `<span class="small">Ø§Ø®ØªØ± Ù…Ù„Ø§Ø­Ø¸Ø© Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ù„Ø¹Ø±Ø¶Ù‡Ø§ Ù‡Ù†Ø§.</span>`;
            loadNotes();
        } else {
            showToast("âŒ ÙØ´Ù„ Ø§Ù„Ø­Ø°Ù", "error");
        }
    } catch (err) {
        showToast("âŒ ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…", "error");
    }
}
</script>
</body>
</html>
